import{D as e,B as a,G as l,p as t,a as d,L as s,H as o,r,o as n,c,f as i,g as u,t as p,w as m}from"./vendor.0c547ad4.js";const b=e.create({timeout:5e3});b.interceptors.request.use((e=>e),(e=>(console.log(e),Promise.reject()))),b.interceptors.response.use((e=>{if(200===e.status)return e.data;Promise.reject()}),(e=>(console.log(e),Promise.reject())));const g={name:"basetable",setup(){const e=a({address:"",name:"",pageIndex:1,pageSize:10}),t=l([]),d=l(0),r=()=>{(e=>b({url:"./table.json",method:"get",params:e}))(e).then((e=>{t.value=e.list,d.value=e.pageTotal||50}))};r();const n=l(!1);let c=a({name:"",address:""}),i=-1;return{query:e,tableData:t,pageTotal:d,editVisible:n,form:c,handleSearch:()=>{e.pageIndex=1,r()},handlePageChange:a=>{e.pageIndex=a,r()},handleDelete:e=>{s.confirm("确定要删除吗？","提示",{type:"warning"}).then((()=>{o.success("删除成功"),t.value.splice(e,1)})).catch((()=>{}))},handleEdit:(e,a)=>{i=e,Object.keys(c).forEach((e=>{c[e]=a[e]})),n.value=!0},saveEdit:()=>{n.value=!1,o.success(`修改第 ${i+1} 行成功`),Object.keys(c).forEach((e=>{t.value[i][e]=c[e]}))}}}},f=m();t("data-v-3da705ce");const h={class:"crumbs"},y=i("i",{class:"el-icon-lx-cascades"},null,-1),v=u(" 基础表格 "),_={class:"container"},V={class:"handle-box"},w=u("搜索"),C=u("编辑 "),k=u("删除"),x={class:"pagination"},q={class:"dialog-footer"},j=u("取 消"),D=u("确 定");d();const E=f(((e,a,l,t,d,s)=>{const o=r("el-breadcrumb-item"),m=r("el-breadcrumb"),b=r("el-option"),g=r("el-select"),E=r("el-input"),I=r("el-button"),P=r("el-table-column"),U=r("el-image"),z=r("el-tag"),S=r("el-table"),T=r("el-pagination"),$=r("el-form-item"),O=r("el-form"),B=r("el-dialog");return n(),c("div",null,[i("div",h,[i(m,{separator:"/"},{default:f((()=>[i(o,null,{default:f((()=>[y,v])),_:1})])),_:1})]),i("div",_,[i("div",V,[i(g,{modelValue:t.query.address,"onUpdate:modelValue":a[1]||(a[1]=e=>t.query.address=e),placeholder:"地址",class:"handle-select mr10"},{default:f((()=>[i(b,{key:"1",label:"广东省",value:"广东省"}),i(b,{key:"2",label:"湖南省",value:"湖南省"})])),_:1},8,["modelValue"]),i(E,{modelValue:t.query.name,"onUpdate:modelValue":a[2]||(a[2]=e=>t.query.name=e),placeholder:"用户名",class:"handle-input mr10"},null,8,["modelValue"]),i(I,{type:"primary",icon:"el-icon-search",onClick:t.handleSearch},{default:f((()=>[w])),_:1},8,["onClick"])]),i(S,{data:t.tableData,border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header"},{default:f((()=>[i(P,{prop:"id",label:"ID",width:"55",align:"center"}),i(P,{prop:"name",label:"用户名"}),i(P,{label:"账户余额"},{default:f((e=>[u("￥"+p(e.row.money),1)])),_:1}),i(P,{label:"头像(查看大图)",align:"center"},{default:f((e=>[i(U,{class:"table-td-thumb",src:e.row.thumb,"preview-src-list":[e.row.thumb]},null,8,["src","preview-src-list"])])),_:1}),i(P,{prop:"address",label:"地址"}),i(P,{label:"状态",align:"center"},{default:f((e=>[i(z,{type:"成功"===e.row.state?"success":"失败"===e.row.state?"danger":""},{default:f((()=>[u(p(e.row.state),1)])),_:2},1032,["type"])])),_:1}),i(P,{prop:"date",label:"注册时间"}),i(P,{label:"操作",width:"180",align:"center"},{default:f((e=>[i(I,{type:"text",icon:"el-icon-edit",onClick:a=>t.handleEdit(e.$index,e.row)},{default:f((()=>[C])),_:2},1032,["onClick"]),i(I,{type:"text",icon:"el-icon-delete",class:"red",onClick:a=>t.handleDelete(e.$index,e.row)},{default:f((()=>[k])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),i("div",x,[i(T,{background:"",layout:"total, prev, pager, next","current-page":t.query.pageIndex,"page-size":t.query.pageSize,total:t.pageTotal,onCurrentChange:t.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange"])])]),i(B,{title:"编辑",modelValue:t.editVisible,"onUpdate:modelValue":a[6]||(a[6]=e=>t.editVisible=e),width:"30%"},{footer:f((()=>[i("span",q,[i(I,{onClick:a[5]||(a[5]=e=>t.editVisible=!1)},{default:f((()=>[j])),_:1}),i(I,{type:"primary",onClick:t.saveEdit},{default:f((()=>[D])),_:1},8,["onClick"])])])),default:f((()=>[i(O,{"label-width":"70px"},{default:f((()=>[i($,{label:"用户名"},{default:f((()=>[i(E,{modelValue:t.form.name,"onUpdate:modelValue":a[3]||(a[3]=e=>t.form.name=e)},null,8,["modelValue"])])),_:1}),i($,{label:"地址"},{default:f((()=>[i(E,{modelValue:t.form.address,"onUpdate:modelValue":a[4]||(a[4]=e=>t.form.address=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}));g.render=E,g.__scopeId="data-v-3da705ce";export default g;
